- content_for(:js_and_css) do
  = javascript_include_tag 'nested_form_custom', 'data-turbolinks-track' => true

= simple_nested_form_for @person do |f|
  = f.error_notification

  .form-inputs
    - if f.object.photo.present?
      = image_tag("/people/show_photo/standart/#{f.object.id}")
    - else
      = image_tag(f.object.photo_url)
    = f.input :photo, as: :file
    = f.input :photo_cache, as: :hidden
    = f.input :email, required: true, autofocus: true
    = f.input :spiritual_name
    = f.input :name, required: true
    = f.input :middle_name
    = f.input :surname, required: true
    = f.fields_for :telephones do |t|
      = t.input :phone, as: :tel, required: true
      = t.link_to_remove '-'
    = f.link_to_add '+', :telephones
    = f.input :gender, collection: [['Male', true], ['Female', false]], required: true
    = f.input :birthday, start_year: Date.today.year - 80, end_year: Date.today.year - 12, required: true
    = f.input :edu_and_work, required: true
    = f.input :emergency_contact, required: true

    .form-actions
      = f.button :submit
